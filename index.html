<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Nothing Project</title>
    <link rel="stylesheet" href="style.css">
</head>
<body id="main-body" onclick="unlockAudio()">

    <audio id="snd-breath" src="https://www.soundjay.com/nature/sounds/wind-01.mp3" preload="auto"></audio>
    <audio id="snd-chimes" src="https://www.soundjay.com/nature/sounds/wind-chime-01.mp3" preload="auto"></audio>
    <audio id="snd-hustle" src="https://www.soundjay.com/buttons/sounds/beep-01.mp3" preload="auto"></audio>

    <div class="chill-zone">
        <header>
            <div class="status-dot"></div>
            <h1>The Nothing Project</h1>
            <p class="tagline">Anti-Hustle. Pro-Nap. Zero Productivity.</p>
        </header>

        <section class="hero-card">
            <h2>Current Mode: <span class="highlight">Creative Loafing</span></h2>
            <p>Select your preferred method of doing nothing:</p>
            
            <div class="zen-menu">
                <button class="zen-opt" onclick="runZen('breathe')">Digital Breath</button>
                <button class="zen-opt" onclick="runZen('block')">Hustle Blocker</button>
                <button class="zen-opt" onclick="runZen('float')">Declutter</button>
            </div>
            <p id="zen-message">Awaiting your inactivity...</p>
        </section>

        <section class="counter-card">
            <p>You have been unproductive for:</p>
            <div id="nothing-timer">00:00</div>
            <p id="rank">Rank: Amateur Loafer</p>
        </section>

        <footer>
            <div class="links">
                <a href="#">Inaction Station</a>
                <a href="#">Slackonomics</a>
                <a href="#">LoafLab</a>
            </div>
        </footer>
    </div>

    <div id="hustle-overlay">
        <div class="overlay-content">
            <h1>SLACK MODE ACTIVE</h1>
            <p>The grind has been paused for 5 seconds.</p>
        </div>
    </div>

    <script>
        // Unlock audio for browsers (Chrome/Safari)
        function unlockAudio() {
            const sounds = ['snd-breath', 'snd-chimes', 'snd-hustle'];
            sounds.forEach(id => {
                const s = document.getElementById(id);
                s.play().then(() => { s.pause(); s.currentTime = 0; }).catch(() => {});
            });
            document.body.onclick = null; // Only need to do this once
        }

        let seconds = parseInt(localStorage.getItem('nothingTime')) || 0;
        setInterval(() => {
            seconds++;
            localStorage.setItem('nothingTime', seconds);
            const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
            const secs = (seconds % 60).toString().padStart(2, '0');
            document.getElementById('nothing-timer').innerText = `${mins}:${secs}`;
        }, 1000);

        function runZen(type) {
            const msg = document.getElementById('zen-message');
            const body = document.getElementById('main-body');

            if (type === 'breathe') {
                const b = document.getElementById('snd-breath');
                body.classList.add('meditating');
                
                b.currentTime = 0;
                b.volume = 0.1;
                b.play();
                msg.innerText = "Inhale the wind...";
                
                let inhaleInt = setInterval(() => { if(b.volume < 0.7) b.volume += 0.15; }, 300);
                setTimeout(() => { clearInterval(inhaleInt); msg.innerText = "Hold..."; }, 2000);
                setTimeout(() => {
                    msg.innerText = "Exhale...";
                    let exhaleInt = setInterval(() => { if(b.volume > 0.1) b.volume -= 0.1; }, 300);
                    setTimeout(() => clearInterval(exhaleInt), 2000);
                }, 3000);
                setTimeout(() => { body.classList.remove('meditating'); msg.innerText = "Breath complete."; b.pause(); }, 5000);
            } 
            else if (type === 'block') {
                document.getElementById('snd-hustle').play();
                document.getElementById('hustle-overlay').style.display = 'flex';
                setTimeout(() => { document.getElementById('hustle-overlay').style.display = 'none'; }, 5000);
            } 
            else if (type === 'float') {
                document.getElementById('snd-chimes').play();
                msg.innerText = "Bubbles rising...";
                for(let i=0; i<20; i++) { 
                    setTimeout(createThought, i * 150); 
                }
            }
        }

        function createThought() {
            const bubbles = ['ðŸ«§', 'â—Œ', 'â—‹', 'â—¦']; 
            const span = document.createElement('span');
            span.innerText = bubbles[Math.floor(Math.random() * bubbles.length)];
            span.className = 'floating-thought';
            span.style.left = Math.random() * 100 + 'vw';
            span.style.setProperty('--sway-width', (Math.random() * 80 - 40) + 'px');
            document.body.appendChild(span);
            // Ensure removal after animation
            setTimeout(() => span.remove(), 7000);
        }
    </script>
</body>
</html>
